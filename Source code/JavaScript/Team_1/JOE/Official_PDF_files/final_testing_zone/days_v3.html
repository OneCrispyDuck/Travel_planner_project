<!DOCTYPE html>
<head>
    <link href='https://fonts.googleapis.com/css?family=Inter' rel='stylesheet'> <!--Font-->
    <link rel = "stylesheet" type="text/css" href = "finalCSS/days.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js"></script><!--Zed's change-->
	<script src="global.js"></script><!--Zed's change-->
</head>
<body>
    <div > <!--Header Div-->
    <img src="images/logoWhite.png" alt="logo"> <!--Logo-->
    <!--Progress Bar
    <p style="display:inline;border: 2px solid white; margin-left: 4%; position: relative;">The Progress bar is supposed to be all the way here</p>-->
    <!--Fancy Buttons-->
    <a href="itinerary.html" class="topLinks" style="border-bottom: 2px solid white; padding-bottom:0.3%; margin-left: 26%;">YOUR TRIP</a>
    <a href="help.html" class="topLinks" style="margin-left: 3%;">HELP</a>
    <a href="aboutUs.html" class="topLinks"style="margin-left: 3%;">ABOUT US</a>
    </div>
	
	<div class="bg"> <!-- White background Container-->
		<div id="Template Box">
			<div id="dayContainer0" class="container" style="display: none;"> <!-- temp day container -->
					
			</div>
			<div id="cityBox" class="rectangle" style="display: none;"> <!-- temp city box -->
				<div>
					<h2 id="numOfDay" style="margin-left: 5%; margin-bottom: -2%; color: #535353;">Day 1</h2>
					<div class="wrapper" style="display: inline-block; margin-left:6%; width: 20%;"> 
						<label name="city" class="label"> City </label>
						<input id="city0" type="text" placeholder="London" style="text-align: left;margin-left:5%; margin-top:0%; border: none; width: 80%; height: 38px; color:#8d8b8b;padding-left: 20px;"> 
					</div>
					<div class="wrapper" style="display: inline-block; margin-top:4%; margin-left:16%; width: 20%;">
						<label name="timeZone" class="label"> Time Zone </label>
						<input id="timeZone0" type="text" placeholder="GMT/UTC UTC+0" style="text-align: left;margin-left:5%; margin-top:0%; border: none; width: 80%; height: 38px; color:#8d8b8b; padding-left: 20px;"> 
					</div> 
				</div>
				<hr style="height:2px;border:none;color:#8d8b8b;background-color:#8d8b8b">
				<div>
					<div class="wrapper" style= "display: inline-block;margin-top:2%; margin-left:6%; height: 60px; width: 30%">
						<label name="hotel" class="label"> Hotel </label>
						<input id="hotel0" type="text" placeholder="Shangrila Hotel" style="text-align:left;margin-left:7%; margin-top:2%; border: none; width: 90%; height: 80%; color:#8d8b8b;" >
					</div>
					<div class="wrapper" style= "display: inline-block;margin-top:2%; margin-left:6%; height: 60px; width: 25%">
						<label name="breakfast" class="label"> Breakfast Service </label>
						<select id="selectBreakfast0" name="breakfast" style="display:inline;text-align:left;margin-top:4%;margin-left:5%; border: none; width: 80%; height: 38px; color:#8d8b8b;border-radius: 10px; padding-left: 20px;"> 
							<option value="Options">Select</option>
							<option value="yes">Yes</option>
							<option value="no">No</option>
						</select> 
					</div>
				</div>
				<div>
					<div class="wrapper" style= "display:inline-block;margin-top:4%; margin-left:6%; height: 60px; width: 25%">
						<label name="checkin" class="label"> Check-In </label>
						<input id="checkin0" type="datetime-local" style="margin-left:1%; margin-top:2%; border: none; width: 90%; height: 80%; color:#8d8b8b;" >
					</div>
					<div class="wrapper" style= "display:inline-block;margin-top:4%; margin-left:6%; height: 60px; width: 25%">
						<label name="checkout" class="label"> Check-Out</label>
						<input id="checkout0" type="datetime-local" style="margin-left:1%; margin-top:2%; border: none; width: 90%; height: 80%; color:#8d8b8b;" >
					</div>					
					<div class="wrapper" style= "display:inline-block;margin-top:4%; margin-left:6%; height: 60px; width: 25%">
						<label name="hotelPhoneNo" class="label"> Phone Number</label>
						<input id="hotelPhoneNo0" type="tel" style="margin-left:1%; margin-top:2%; border: none; width: 90%; height: 80%; color:#8d8b8b;" >
					</div> 
					<div class="wrapper" style= "display:inline-block;margin-top:4%; margin-left:6%; height: 60px; width: 88%;border-radius: 2%/25%;">
						<label name="address" class="label"> Address</label>
						<input id="address0" placeholder="Great Russell St, London WC1B 3DG" type="text" style="margin-left:1%; margin-top:2%; border: none; width: 90%; height: 50%; color:#8d8b8b;" >
					</div> 
				</div><br><br>
			</div>
			<div id="rectangle" class="rectangle" style="display: none;"> <!--temp place box-->
				<form name="travelDetails">					
					<div>
						<div class="wrapper" style= "display:inline-block;margin-top:4%; margin-left:6%; height: 60px; width: 25%;border-radius: 8%/25%;">
							<label name="place" class="label"> Place</label>
							<input id="place0" placeholder="The Peak" type="text" style="margin-left:2%; margin-top:5%; border: none; width: 90%; height: 50%; color:#8d8b8b;" >
						</div> 
						<div class="wrapper" style= "display:inline-block;margin-top:4%; margin-left:6%; height: 60px; width: 25%;border-radius: 8%/25%">
							<label name="placePhoneNo" class="label"> Phone Number</label>
							<input id="placePhoneNo0" type="tel" style="margin-left:2%; margin-top:5%; border: none; width: 90%; height: 50%; color:#8d8b8b;" >
						</div> 
						<div class="wrapper" style= "display:inline-block;margin-top:4%; margin-left:6%; height: 60px; width: 25%;border-radius: 8%/25%">
							<label name="estTime" class="label"> Estimated Travelling Time</label>
							<input id="estTime0" type="text" style="margin-left:2%; margin-top:5%; border: none; width: 90%; height: 50%; color:#8d8b8b;" >
						</div> 
					</div>
					<div>
						<div class="wrapper" style= "display:inline-block;margin-top:4%; margin-left:6%; height: 60px; width: 88%;border-radius: 2%/25%;">
							<label name="placelocation" class="label"> Location</label>
							<input id="placelocation0" placeholder="Great Russell St, London WC1B 3DG" type="text" style="margin-left:1%; margin-top:2%; border: none; width: 90%; height: 50%; color:#8d8b8b;" >
						</div> 
					</div>
					<div>
						<div class="wrapper" style= "display:inline-block;margin-top:4%; margin-left:6%; height: 60px; width: 88%;border-radius: 2%/25%;">
							<label name="notes" class="label"> Notes</label>
							<input id="notes0" placeholder="Be aware of weather" type="text" style="margin-left:1%; margin-top:2%; border: none; width: 90%; height: 50%; color:#8d8b8b;" >
						</div> 
					</div><br><br>
				</form>
			</div>
			<div id="displayBox" class="rectangle" style="display: none;"> <!-- temp display box -->
				<div class="wrapper" style= "display:inline-block;margin-top:4%; margin-left:6%; height: 60px; width: 88%;border-radius: 2%/25%;">
					<label id="numOfPlace0" class="label">place</label><br>
				</div>			
			</div>
		</div>
		<div id="mainContainer">
			
		</div>
		
		
		<div style="display:inline-flex; float: right; width:60%; height:90px; position: relative;">
			<div style="width:10%; height:50%; margin-left:65%; margin-top:-15%;position: relative; ">
				<button onclick="cloneRectangle();" style="position:relative" class="formButton">Add More Place</button>
			</div>
			<div style="width:10%; height:50%; margin-left:8%; margin-top:-15%;position: relative; "> <!--Finish Button-->
				<!-- <a href="days.html"> -->
				<button onclick="nextDay();" style="position:relative" class="formButton">Finish</button></a> <!--Move to day 2-->
			</div>
		</div>
		<div> <!--Quit-->
			<a href="homePage.html" style="margin-left:95%;margin-top:40px; display:inline">Quit</a>
			<button onclick="reportSave()">test2</button>
		</div>
		<div style="text-align: center; padding: 20px;"><!--Zed's change-->
			<button onclick="saveToPdf()" style="font-size: 20px; padding: 10px 20px;" class="downloadButton">saveAndDownPDF</button><!--Zed's change-->
		</div><!--Zed's change-->
	</div>
</body>
<script>
	
	let detailBoxCount = 0;
	let dayBoxCount = 0;
	let reportDayCount = [];
	let dayCount = 0;
	let rectangleCount = 1;
	let placeOfDay = 0;
	allData = JSON.parse(localStorage.getItem('allData')) || [];//Zed's change
	
	runOnload();
	
	function runOnload(){
		cloneDay();
		placeOfDay = 0;
	}
	
	function nextDay(){
		cloneDay();
		const tempID = dayBoxCount - 1;
		document.getElementById("numOfPlace"+tempID).innerHTML = "Day" + tempID.toString() + "&emsp;City: " + document.getElementById("city"+tempID).value + "&emsp;Place: " + placeOfDay.toString();
		document.getElementById("displayBox"+tempID).style.display = 'inline-block';
		placeOfDay = 0;
	}
	
	function cloneDay(){
		
		document.getElementById("dayContainer"+dayBoxCount.toString()).style.display = 'none';
		dayBoxCount += 1;
		document.getElementById("numOfDay").innerHTML = "Day"+dayBoxCount.toString();
		
		const cloneContainer = document.getElementById("mainContainer");
		const tempObject = document.getElementById("dayContainer0");
		const cloneObject = tempObject.cloneNode(true);
		cloneObject.setAttribute('id', "dayContainer"+dayBoxCount.toString());
		cloneContainer.appendChild(cloneObject);
		document.getElementById("dayContainer"+dayBoxCount.toString()).style.display = 'inline-block';
		
		cloneCity();
		cloneRectangle();
		cloneDisplayBox();
	
		reportDayCount.push(detailBoxCount);
	}
	
	function cloneCity(){
		
		const tempID = dayBoxCount - 1;
		document.getElementById("city"+tempID).id = "city"+dayBoxCount.toString();
		document.getElementById("timeZone"+tempID).id = "timeZone"+dayBoxCount.toString();
		document.getElementById("hotel"+tempID).id = "hotel"+dayBoxCount.toString();
		document.getElementById("selectBreakfast"+tempID).id = "selectBreakfast"+dayBoxCount.toString();
		document.getElementById("checkin"+tempID).id = "checkin"+dayBoxCount.toString();
		document.getElementById("checkout"+tempID).id = "checkout"+dayBoxCount.toString();
		document.getElementById("hotelPhoneNo"+tempID).id = "hotelPhoneNo"+dayBoxCount.toString();
		document.getElementById("address"+tempID).id = "address"+dayBoxCount.toString();
		
		
		const cloneContainer = document.getElementById("dayContainer"+dayBoxCount.toString());
		const tempObject = document.getElementById("cityBox");
		const cloneObject = tempObject.cloneNode(true);
		cloneObject.setAttribute('id', "cityBox"+dayBoxCount.toString());
		cloneContainer.appendChild(cloneObject);
		document.getElementById("cityBox"+dayBoxCount.toString()).style.display = 'inline-block';
	}
	
	function cloneRectangle(){
	
		const cloneID = detailBoxCount + 1;
		document.getElementById("place"+detailBoxCount).id = "place"+cloneID.toString();
		document.getElementById("placePhoneNo"+detailBoxCount).id = "placePhoneNo"+cloneID.toString();
		document.getElementById("estTime"+detailBoxCount).id = "estTime"+cloneID.toString();
		document.getElementById("placelocation"+detailBoxCount).id = "placelocation"+cloneID.toString();
		document.getElementById("notes"+detailBoxCount).id = "notes"+cloneID.toString();	
		detailBoxCount += 1;
		
		const cloneContainer = document.getElementById("dayContainer"+dayBoxCount.toString());
		const tempObject = document.getElementById("rectangle");
		const cloneObject = tempObject.cloneNode(true);		
		cloneObject.setAttribute('id', "rectangle"+cloneID.toString());
		cloneContainer.appendChild(cloneObject);
		document.getElementById("rectangle"+cloneID.toString()).style.display = 'inline-block';
		
		placeOfDay += 1;
	}
	
	function cloneDisplayBox(){
		
		const tempID = dayBoxCount - 1;
		document.getElementById("numOfPlace"+tempID).id = "numOfPlace"+dayBoxCount.toString();
		
		const cloneContainer = document.getElementById("mainContainer");
		const tempObject = document.getElementById("displayBox");
		const cloneObject = tempObject.cloneNode(true);		
		cloneObject.setAttribute('id', "displayBox"+dayBoxCount.toString());
		cloneContainer.appendChild(cloneObject);
	}
	
	function reportSave(){
		document.getElementById("place"+detailBoxCount).id = "placeSave";
		document.getElementById("placePhoneNo"+detailBoxCount).id = "placePhoneNoSave";
		document.getElementById("estTime"+detailBoxCount).id = "estTimeSave";
		document.getElementById("placelocation"+detailBoxCount).id = "placelocationSave";
		document.getElementById("notes"+detailBoxCount).id = "notesSave";
		
		document.getElementById("city"+dayBoxCount).id = "citySave";
		document.getElementById("timeZone"+dayBoxCount).id = "timeZoneSave";
		document.getElementById("hotel"+dayBoxCount).id = "hotelSave";
		document.getElementById("selectBreakfast"+dayBoxCount).id = "selectBreakfastSave";
		document.getElementById("checkin"+dayBoxCount).id = "checkinSave";
		document.getElementById("checkout"+dayBoxCount).id = "checkoutSave";
		document.getElementById("hotelPhoneNo"+dayBoxCount).id = "hotelPhoneNoSave";
		document.getElementById("address"+dayBoxCount).id = "addressSave";

		const numOfBox = detailBoxCount;
		console.log(numOfBox);


		for (let i = 1; i <= numOfBox; i++){
			
			if (reportDayCount.includes(i) == true){
				dayCount += 1;
				rectangleCount = 1;
				<!-- console.log(dayCount); -->
				
				const arrayCityDay = "Day"+dayCount.toString();
				const arrayCityName = "City"+dayCount.toString();
				const inputCity1 = document.getElementById("city"+dayCount.toString()).value;
				const inputCity2 = document.getElementById("timeZone"+dayCount.toString()).value;
				const inputCity3 = document.getElementById("hotel"+dayCount.toString()).value;
				const inputCity4 = document.getElementById("selectBreakfast"+dayCount.toString()).value;
				const inputCity5 = document.getElementById("checkin"+dayCount.toString()).value;
				const inputCity6 = document.getElementById("checkout"+dayCount.toString()).value;
				const inputCity7 = document.getElementById("hotelPhoneNo"+dayCount.toString()).value;
				const inputCity8 = document.getElementById("address"+dayCount.toString()).value;
				const cityArray = [arrayCityDay, arrayCityName, inputCity1, inputCity2, inputCity3, inputCity4, inputCity5, inputCity6, inputCity7, inputCity8];
				console.log(cityArray);
				allData.push(cityArray);
			}
			const arrayDay = "Day"+dayCount.toString();
			const arrayName = "Rectangle"+rectangleCount.toString();
			const input1 = document.getElementById("place"+i.toString()).value;
			const input2 = document.getElementById("placePhoneNo"+i.toString()).value;
			const input3 = document.getElementById("estTime"+i.toString()).value;
			const input4 = document.getElementById("placelocation"+i.toString()).value;
			const input5 = document.getElementById("notes"+i.toString()).value;
			const placeArray = [arrayDay, arrayName, input1, input2, input3, input4, input5];
			rectangleCount += 1;
			console.log(placeArray);
			console.log(reportDayCount);
			allData.push(placeArray);//Zed's change
		}
}
function saveToPdf(){//Below is Zed's change
		let doc = new jsPDF();

		// 将数据添加到PDF文档中
		allData.forEach((item, index) => {
			doc.text(JSON.stringify(item), 10, 10 + index * 10);
		});

		// 保存PDF文档
		doc.save('data.pdf');
}//Zed's change
</script>
</html>

To generate a PDF file based on the provided HTML, CSS, and JavaScript code, we can use a library like jsPDF. Here's an example of how you can achieve this:

1. First, include the jsPDF library in your HTML file:

```html
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.3.1/jspdf.umd.min.js"></script>
```

2. Next, modify the `saveToPdf` function to create a new jsPDF instance and add the content to the PDF document:

```javascript
function saveToPdf() {
  const doc = new jsPDF();

  // Add your banner content
  const bannerElement = document.querySelector('.banner');
  const bannerCanvas = document.createElement('canvas');
  const bannerContext = bannerCanvas.getContext('2d');
  html2canvas(bannerElement, { canvas: bannerCanvas }).then(canvas => {
    const bannerImageData = canvas.toDataURL('image/png');
    doc.addImage(bannerImageData, 'PNG', 10, 10, 190, 30); // Adjust position and size as needed
  });

  // Add your transportation section
  const transportationElement = document.querySelector('#transportation');
  const transportationCanvas = document.createElement('canvas');
  const transportationContext = transportationCanvas.getContext('2d');
  html2canvas(transportationElement, { canvas: transportationCanvas }).then(canvas => {
    const transportationImageData = canvas.toDataURL('image/png');
    doc.addImage(transportationImageData, 'PNG', 10, 50, 190, 100); // Adjust position and size as needed
  });

  // Add your travellers section
  const travellersElement = document.querySelector('#travellers');
  const travellersCanvas = document.createElement('canvas');
  const travellersContext = travellersCanvas.getContext('2d');
  html2canvas(travellersElement, { canvas: travellersCanvas }).then(canvas => {
    const travellersImageData = canvas.toDataURL('image/png');
    doc.addImage(travellersImageData, 'PNG', 10, 160, 190, 50); // Adjust position and size as needed
  });

  // Add your hotel information section
  const hotelInfoElement = document.querySelector('#hotel_info');
  const hotelInfoCanvas = document.createElement('canvas');
  const hotelInfoContext = hotelInfoCanvas.getContext('2d');
  html2canvas(hotelInfoElement, { canvas: hotelInfoCanvas }).then(canvas => {
    const hotelInfoImageData = canvas.toDataURL('image/png');
    doc.addImage(hotelInfoImageData, 'PNG', 10, 220, 190, 100); // Adjust position and size as needed
  });

  // Add your day activities section
  const dayActivitiesElement = document.querySelector('#day_activities');
  const dayActivitiesCanvas = document.createElement('canvas');
  const dayActivitiesContext = dayActivitiesCanvas.getContext('2d');
  html2canvas(dayActivitiesElement, { canvas: dayActivitiesCanvas }).then(canvas => {
    const dayActivitiesImageData = canvas.toDataURL('image/png');
    doc.addImage(dayActivitiesImageData, 'PNG', 10, 330, 190, 100); // Adjust position and size as needed
  });

  // Save the PDF file
  doc.save('report.pdf');
}
```

This code uses the `html2canvas` library to capture the content of each section as an image and then adds it to the PDF document using the `addImage` method of jsPDF. You'll need to include the `html2canvas` library as well:

```html
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
```

Note that you'll need to adjust the position and size of each section in the `addImage` method to fit your desired layout. Additionally, you may need to modify the code to handle any dynamic content or data from the provided arrays.