<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generate PDF</title>
    
    <!-- Include the jsPDF library from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <!-- Add a form for user input (Note that this is what needs to be changed! - We want to call the form from a separate directory...)-->
    <!--....that the user has saved their travel details from the directory at which it is saved in!! See line 20 for reference on how to do this-->
    <form id="myForm">
        <input type="text" id="myInput" placeholder="Enter your details">
        <input type="submit" value="Submit">
    </form>

    <!--You can use an HTML <iframe> or <object> tag to include an HTML file from another directory. Hereâ€™s an example of how you can do it:-->
    <!--Include the form from another directory-->
    <iframe src="path/to/your/form.html"></iframe> <!--Replace "path/to/your/form.html" with the actual path to your HTML file containing the form-->
                                                    <!--Note that the HTML file should be in the same domain as the parent HTML file due to the same-origin policy. Otherwise there will be issues..-->

    <!--To correctly access the HTML file using <iframe> we would need to access the form like this-->
    <!--Script here:-->
        <script>
            let iframe = document.getElementByTagName('iframe')[0];                 //IMPORTANT
            let form = iframe.contentWindow.document.getElementById('myForm');      //IMPORTANT
        </script>
        
        
    <input type="button" value="Create PDF" onclick="generatePDF()"/>
    
    <script> 
        // Event listener to capture user input
        document.getElementById('myForm').addEventListener('submit', function(event) {
            // Prevent the form from submitting normally
            event.preventDefault();

            // Get the input value
            let inputValue = document.getElementById('myInput').value;

            // Save the input value in localStorage
            localStorage.setItem('userDetails', inputValue);
        });

        function generatePDF(){
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Get the user details from localStorage
            let userDetails = localStorage.getItem('userDetails');

            doc.text(20, 20, 'User Details:');
            doc.text(20, 30, userDetails);
            
            doc.save("User_Details.pdf");
        }
    </script>
</body>
</html>
